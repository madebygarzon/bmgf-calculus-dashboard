<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publisher by Sector</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        :root {
            --deep-insight: #008384;
            --warm-thoughts: #4A81A8;
            --sky-logic: #4A81A8;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter Tight', sans-serif;
            background: transparent;
            overflow: hidden;
        }
        #chart {
            width: 100%;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="chart"></div>
    <script>
        const publishers = ['Cengage', 'Other', 'Pearson', 'Wiley', 'OpenStax'];

        const twoYearPublic = [166, 41, 60, 3, 18];
        const fourYearPublic = [512, 286, 341, 194, 42];
        const fourYearPrivate = [78, 36, 55, 20, 31];

        const trace1 = {
            type: 'bar',
            name: '2-Year Public',
            x: publishers,
            y: twoYearPublic,
            marker: { color: '#92A4CF' },
            text: twoYearPublic.map(v => v + 'K'),
            textposition: 'auto',
            textfont: { family: 'Inter Tight', size: 8, color: 'white' },
            hovertemplate: '<b>%{x}</b><br>2-Year Public: %{y}K<extra></extra>'
        };

        const trace2 = {
            type: 'bar',
            name: '4-Year Public',
            x: publishers,
            y: fourYearPublic,
            marker: { color: '#008384' },
            text: fourYearPublic.map(v => v + 'K'),
            textposition: 'auto',
            textfont: { family: 'Inter Tight', size: 8, color: 'white' },
            hovertemplate: '<b>%{x}</b><br>4-Year Public: %{y}K<extra></extra>'
        };

        const trace3 = {
            type: 'bar',
            name: '4-Year Private',
            x: publishers,
            y: fourYearPrivate,
            marker: { color: '#4A81A8' },
            text: fourYearPrivate.map(v => v + 'K'),
            textposition: 'auto',
            textfont: { family: 'Inter Tight', size: 8, color: 'white' },
            hovertemplate: '<b>%{x}</b><br>4-Year Private: %{y}K<extra></extra>'
        };

        const layout = {
            margin: { l: 50, r: 20, t: 40, b: 70 },
            barmode: 'group',
            bargap: 0.25,
            bargroupgap: 0.1,
            xaxis: {
                tickfont: { family: 'Inter Tight', size: 10, color: '#234A5D' },
                tickangle: 0
            },
            yaxis: {
                title: {
                    text: 'Enrollment (K)',
                    font: { family: 'Inter Tight', size: 11, color: '#6B7280' }
                },
                tickfont: { family: 'Inter Tight', size: 10, color: '#6B7280' },
                gridcolor: '#E8EAED',
                showline: false,
                zeroline: false
            },
            paper_bgcolor: 'transparent',
            plot_bgcolor: 'transparent',
            showlegend: true,
            legend: {
                orientation: 'h',
                x: 0.5,
                xanchor: 'center',
                y: -0.2,
                font: { family: 'Inter Tight', size: 10, color: '#234A5D' }
            }
        };

        const config = {
            displayModeBar: false,
            responsive: true
        };

        Plotly.newPlot('chart', [trace1, trace2, trace3], layout, config);
    </script>
    <script src="filter-receiver.js"></script>
</body>
</html>
